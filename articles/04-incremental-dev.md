# 让AI在已有代码库上做增量开发

> 还没写。先把坑占上。

## 这篇要聊什么

新项目让AI从零开始还好，但大多数时候我们面对的是已有代码库。

这是个更难的问题。AI得理解现有代码的结构和约定，然后在不破坏原有功能的前提下添加新东西。

### 上下文管理

AI的上下文窗口有限，怎么让它"看到"最相关的代码？哪些文件必须包含在上下文中？怎么避免AI"遗忘"之前的决策？

### 变更隔离

怎么让AI的改动不影响已有功能？分支策略：feature branch vs 直接改main。代码审查：人工 vs AI辅助。

### 回归测试

怎么验证AI的改动没有破坏现有功能？测试覆盖率：要求AI写测试？手动测试的检查清单。

### 渐进式迁移

老代码不符合新规范怎么办？让AI重构 vs 让AI适应。什么时候值得让AI重写？

我的初步判断：小步改动比大规模重构安全。但具体"小"到什么程度，需要实验。

---

*等我在ConceptTree上试过增量开发，再来更新具体做法。*
