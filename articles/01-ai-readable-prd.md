# 1 让AI写PRD，然后让AI读懂它

[English Version](./01-ai-readable-prd-en.md)

## 一个让我崩溃的数字：2000字

我让Claude帮我写一个页面的前端代码。

第一版，漏了空状态。改。第二版，漏了加载状态。改。第三版，漏了错误处理。改。第四版，状态切换逻辑不对。改。第五版，终于能用了。

然后我数了一下需求描述的长度：2000字。

就一个页面。我自己写代码可能也就1500行。

不对劲。AI应该让我更快

后来想明白了：问题不在AI，在我。

我的需求描述是写给人看的——模糊、跳跃、默认读者会脑补。但AI不会脑补。你漏了什么，它就真的不做什么。

------

## AI不会脑补，这是根本问题

传统PRD写给人看：模糊、跳跃、省略常识。人会脑补。

AI不会：漏状态就不处理，没说错误就不考虑，词模糊就随便实现。

所以需要AI-readable PRD——不是格式变了，是决策粒度变了。

说白了，以前开发会问你的问题，现在得在PRD阶段就回答掉。不回答，AI就瞎猜。

------

## 方法：我选，AI写

```
传统：我写文档 → 开发问我 → 改 → 开发又问 → 又改 → ...
现在：AI问我 → 我选A/B/C → AI写文档 → 直接生成代码
```

核心思路：把"开发会问的问题"前置到PRD阶段，用AI来问。

### 启动Prompt

```
我想做一个[产品名]。背景：[一句话]
帮我做PRD，苏格拉底式提问，每次只问一个问题，给2-3个选项让我选。
```

AI会追问：用户是谁？核心功能？状态流转？空状态显示什么？

我只选A/B/C。不用组织语言，不会漏。

这套方法的好处：决策速度快，覆盖率高。坏处：如果你对产品理解不深，选着选着会发现自己其实没想清楚。这时候要么暂停去想，要么让AI帮你分析利弊再选。

------

## 8个流程

| 步骤          | 做什么                | 我的角色  |
| ------------- | --------------------- | --------- |
| 1. 启动       | AI问澄清问题          | 回答      |
| 2. 定义概念   | AI列核心实体和状态    | 选择/确认 |
| 3. 定页面结构 | AI列页面和跳转        | 确认      |
| 4. 逐页细化   | AI画ASCII图，逐元素问 | 选A/B/C   |
| 5. 定AI接口   | AI定义输入输出JSON    | 确认      |
| 6. 定数据结构 | AI输出表设计          | 确认      |
| 7. 输出PRD    | 说"更新PRD"           | 验收      |
| 8. 对比实现   | 丢代码让AI检查差异    | 决策      |

3页MVP，约2小时，50-80次选择题。

这个时间是我的体感，你的情况可能不同。页面越复杂、状态越多，时间越长。但比起"写完PRD发现开发理解的和你想的不一样"的返工成本，这点时间值。

------

## 踩坑后的写法

### 1. ASCII原型比Figma好使

别用Figma截图给AI。直接让AI输出ASCII：

```
+------------------+
|     Header       |
+------------------+
|  [输入框]        |
|  [生成按钮]      |
+------------------+
|    结果区域      |
|  - 空状态: "..."  |
|  - 加载: spinner |
|  - 错误: retry   |
+------------------+
```

为什么比Figma好？

AI能生成也能解析。强制覆盖所有状态。改起来快。Figma截图AI只能"看"，不能"操作"，而且很容易忽略截图里没画出来的状态。

### 2. 状态枚举比自然语言靠谱

踩坑：我写"计划可以开始、完成或存档"，AI生成的"开始"和"完成"UI一模一样。

现在这样写：

```
状态：
- draft → 可编辑，不展示进度
- active → 展示进度，可标记完成
- completed → 只读，展示总结
- archived → 不展示，可恢复

流转：
draft → active：点"开始"
active → completed：全部完成
any → archived：点"归档"
```

枚举 + UI差异 + 流转条件 = 不会漏。

自然语言的问题是歧义。"开始"是个动作还是个状态？AI猜不准。枚举强制你把每个状态的UI表现写清楚。

### 3. JSON Schema定义AI接口

有AI功能？别用自然语言，直接定义JSON：

```json
// 输入
{"user_goal": "学PyTorch图像分类", "time_budget_hours": 20}

// 输出
{"path": [{"node": "张量基础", "hours": 2}, {"node": "自动求导", "hours": 3}]}
```

AI写代码时直接复制，字段名不会对不上。

自然语言描述接口的问题：你说"返回学习路径"，AI可能返回数组，可能返回对象，字段名可能叫path可能叫learningPath可能叫result。JSON Schema直接锁死，省得后面改。

### 4. 为AI维护留SOP

AI生成代码后，后续改代码经常乱搞——不知道改哪个文件，不知道项目约定。

PRD里加一段：

```
## AI维护指引
新增页面：复制现有结构 → 更新路由 → 加导航入口
新增状态：更新类型定义 → 更新状态管理 → 检查所有引用
```

这段给AI看，不是给人看。说"加个新页面"，AI按指引执行，不乱搞。

这里有个trade-off：指引写得越细，AI越不会乱搞，但维护指引本身也有成本。我的做法是只写最容易出错的几个操作，其他的让AI自己判断。

------

## 快捷指令

在PRD流程中，这些指令可以加速对话：

| 场景       | 你说               |
| ---------- | ------------------ |
| 推进流程   | 继续               |
| 不想纠结   | 你定 / 这个不重要  |
| 获取文档   | 更新PRD            |
| 修改决定   | XX改成YY           |
| 检查遗漏   | 回顾一下有没有遗漏 |
| 跳过当前页 | 跳过这页           |

------

## 时间参考

| 阶段       | 时长          | 你的操作      |
| ---------- | ------------- | ------------- |
| 启动+澄清  | 5 min         | 回答3-5个问题 |
| 定义概念   | 5 min         | 选1-2次       |
| 定页面结构 | 5 min         | 确认1次       |
| 逐页细化   | 每页15-30 min | 每页选10-20次 |
| 定AI接口   | 10 min        | 确认2-3次     |
| 定数据结构 | 5 min         | 确认1次       |
| 输出PRD    | 1 min         | 说"更新PRD"   |

3页产品MVP：约2小时，做选择约50-80次

------

## 下一篇预告

PRD写完了，下一步是让AI根据PRD生成代码。

我会试三种方式：

- 方式A：把整个PRD丢给Claude/GPT，让它一次性生成
- 方式B：按页面拆分，逐个生成再组装
- 方式C：先让AI生成项目结构和骨架，再填充细节

然后对比哪种方式的代码质量更高、更容易维护。初步猜测C会赢，但得跑一遍才知道。

------

*我在真实项目上踩坑，踩完了写下来。下一篇见。*
